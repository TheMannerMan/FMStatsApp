@page
@model DisplayPlayersModel
@{
}
@if (Model.Players.Any())
{
	<h3>Uploaded Players</h3>
	<table class="table">
		<thead>
			<tr>
				<th>Name</th>
				<th>Age</th>
				<th>Position</th>
				<th>Nationality</th>
			</tr>
		</thead>
		<tbody>
			@foreach (var player in Model.Players)
			{
				<tr>
					<td>@player.Name</td>
					<td>@player.Age</td>
					<td>@player.Position</td>
					<td>@player.Nationality</td>
				</tr>
			}
		</tbody>
	</table>

	<p>
		<button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#collapseWidthExample" aria-expanded="false" aria-controls="collapseWidthExample">
			Pick roles
		</button>
	</p>
	<div style="min-height: 120px;">
		<div class="collapse collapse-horizontal" id="collapseWidthExample">
			<div class="card card-body" style="width: 300px;">
				@foreach (var role in Model.ForwardRoles)
				{
					<button type="button" class="btn btn-danger btn-sm" data-seido-selected-item-id="@role">

					</button>
				}
			</div>
		</div>
	</div>

	<h4>Choose Roles</h4>
	<button class="btn btn-primary mb-3" type="button" data-bs-toggle="collapse" data-bs-target="#rolePicker" aria-expanded="false" aria-controls="rolePicker">
		Add
	</button>

	<!-- Collapsible Section-->
	<div class="collapse" id="rolePicker">
		<div class="card card-body">
			<div class="d-flex flex-wrap">
				@foreach (var role in Model.ForwardRoles)
				{
					<button type="button" class="btn btn-outline-primary m-1 role-button" data-seido-selected-item-id="@role">@role</button>
				}
			</div>
			<form method="post" class="mt-3">
				<!-- Hidden input to bind selected roles -->
				<input type="hidden" asp-for="@Model.Players" value="@Model.Players"> 
				<input type="hidden" id="hiddenRoles" name="SelectedRoles" value="@string.Join(",", Model.SelectedForwardRoles)" />
				<button type="submit" class="btn btn-success">Save</button>
			</form>
		</div>
		</div>
	

	@if (Model.SelectedForwardRoles.Any())
	{
		<h5>Selected Roles:</h5>
		<ul class="list-group">
			@foreach (var role in Model.SelectedForwardRoles)
			{
				<li class="list-group-item">@role</li>
			}
		</ul>
	}
	
}
